const Apollo = {
    version: "20241001",
    empty: 'hiker://empty',
    url: 'https://missav.com/cn/',
    d: [],
    taskList: [],
    getRangeColors: function() {
        return '#' + ('00000' + (Math.random() * 0x1000000 << 0)
                .toString(16))
            .substr(-6);
    }, //éšæœºé¢œè‰²
    data: {
        category: getMyVar('MissAV.category', '0'),
        subCate: getMyVar('MissAV.subCate', '0'),
    },
    baseParse: () => {
        const page = parseInt(MY_URL.split('##')[1])
        let categoryList = [{
            title: 'æŽ¨è',
            path: '',
            type: 'video',
            sub: [{
                title: 'ä»Šæ—¥çƒ­é—¨',
                path: 'today-hot',
            }, {
                title: 'æœ¬é€±çƒ­é—¨',
                path: 'weekly-hot',
            }, {
                title: 'æœ¬æœˆçƒ­é—¨',
                path: 'monthly-hot',
            }, {
                title: 'æœ€è¿‘æ›´æ–°',
                path: 'new',
            }, {
                title: 'æ–°ä½œä¸Šå¸‚',
                path: 'release',
            }]
        }, {
            title: 'ä¸­å­—',
            path: 'chinese-subtitle',
            type: 'video',
            sub: []
        }, {
            title: 'æ— ç ',
            path: '',
            type: 'video',
            sub: [{
                title: 'æµå‡º',
                path: 'uncensored-leak'
            }, {
                title: 'FC2',
                path: 'fc2'
            }, {
                title: 'HEYZO ',
                path: 'heyzo'
            }, {
                title: 'ä¸œäº¬çƒ­',
                path: 'tokyohot'
            }, {
                title: 'ä¸€æœ¬é“',
                path: '1pondo'
            }, {
                title: 'Caribbeancom',
                path: 'caribbeancom'
            }, {
                title: 'Caribbeancompr',
                path: 'caribbeancompr'
            }, {
                title: '10musume',
                path: '10musume'
            }, {
                title: 'pacopacomama',
                path: 'pacopacomama'
            }, {
                title: 'Gachinco',
                path: 'gachinco'
            }, {
                title: 'XXX-AV',
                path: 'xxxav'
            }, {
                title: 'äººå¦»æ–©',
                path: 'marriedslash'
            }, {
                title: 'é¡½çš® 4610',
                path: 'naughty4610'
            }, {
                title: 'é¡½çš® 0930',
                path: 'naughty0930'
            }, ]
        }, {
            title: 'ç´ äºº',
            path: '',
            type: 'video',
            sub: [{
                    title: 'SIRO',
                    path: 'siro'
                },
                {
                    title: 'LUXU',
                    path: 'luxu'
                },
                {
                    title: 'GANA',
                    path: 'gana'
                },
                {
                    title: 'PRESTIGE PREMIUM',
                    path: 'maan'
                },
                {
                    title: 'S-CUTE',
                    path: 'scute'
                },
                {
                    title: 'ARA',
                    path: 'ara'
                },
            ]
        }, {
            title: 'å›½äº§',
            path: '',
            type: 'video',
            sub: [{
                title: 'éº»è±†ä¼ åª’',
                path: 'madou'
            }, {
                title: 'TWAV',
                path: 'twav'
            }, {
                title: 'Furuke',
                path: 'furuke'
            }, ]
        }, {
            title: 'VR',
            path: 'genres/VR',
            type: 'video',
            sub: []
        }, {
            title: 'AVå½±è¯„',
            path: 'articles',
            type: 'articles',
            sub: []
        }, {
            title: 'å¥³ä¼˜ä¸€è§ˆ',
            path: 'actresses',
            type: 'avatar',
            sub: []
        }, {
            title: 'å¥³ä¼˜æŽ’è¡Œ',
            path: 'actresses/ranking',
            type: 'avatar',
            sub: []
        }, {
            title: 'ç±»åž‹',
            path: 'genres',
            type: 'tags',
            sub: []
        }, {
            title: 'å‘è¡Œå•†',
            path: 'makers',
            type: 'tags',
            sub: []
        }, {
            title: 'æ›´å¤š',
            path: '',
            type: 'video',
            sub: [{
                title: 'Njav',
                path: 'site/njav',
            }, {
                title: 'Supjav',
                path: 'site/supjav',
            }, ]
        }, ]
        const currentCate = categoryList[Apollo.data.category]
        let url
        const type = currentCate.type
        const path = currentCate.path
        if (currentCate.sub.length > 0) {
            url = Apollo.url + currentCate.sub[Apollo.data.subCate].path
        } else {
            url = Apollo.url + currentCate.path
        }
        url += '?page=' + page
        log(url)
        if (page === 1) {
            categoryList.forEach((cate, index) => {
                Apollo.d.push({
                    title: parseInt(Apollo.data.category) === index ?
                        'â€˜â€˜â€™â€™<strong><font color="#ff1493">' + cate.title + '</font></strong>' : cate.title,
                    url: $(Apollo.empty + "#noLoading#").lazyRule((index) => {
                        putMyVar("MissAV.category", index.toString())
                        putMyVar("MissAV.subCate", '0')
                        refreshPage(true)
                        return "hiker://empty"
                    }, index),
                    col_type: 'scroll_button',
                })
            })
            if (currentCate.sub.length > 0) {
                Apollo.d.push({
                    col_type: 'blank_block',
                })
                currentCate.sub.forEach((cate, index) => {
                    Apollo.d.push({
                        title: parseInt(Apollo.data.subCate) === index ?
                            'â€˜â€˜â€™â€™<strong><font color="#ff1493">' + cate.title +
                            '</font></strong>' : cate.title,
                        url: $(Apollo.empty + "#noLoading#").lazyRule((index) => {
                            putMyVar("MissAV.subCate", index.toString())
                            refreshPage(true)
                            return "hiker://empty"
                        }, index),
                        col_type: 'scroll_button',
                    })
                })
            }
        }
        const html = fetch(url, {
            headers: {
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'
            }
        })
        switch (type) {
            case 'video':
                Apollo.videoType(html)
                break
            case 'articles':
                Apollo.articlesType(html)
                break
            case 'avatar':
                if ((path === 'actresses/ranking' && page === 1) || path !== 'actresses/ranking') {
                    Apollo.avatarType(html)
                }
                break
            case 'tags':
                Apollo.tagsType(html)
                break
            default:
                Apollo.videoType(html)
        }
        setResult(Apollo.d)
    },


    searchParse: () => {
        if (MY_URL.includes("page=1")) {
            Apollo.d.push({
                title: "â€”â€”å¥³ä¼˜â€”â€”",
                url: "hiker://empty"
            });
            Apollo.avatarType(getResCode());

            Apollo.d.push({
                title: "â€”â€”å½±ç‰‡â€”â€”",
                url: "hiker://empty"
            });
            Apollo.videoType2(getResCode());
        } else {
            Apollo.videoType(getResCode());
        }
        setResult(Apollo.d)
    },

    videoParse: (url) => {
        const html = fetch(url, {
            headers: {
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'
            }
        })
        const title = pdfh(html, 'h1&&Text')
        log(url)
        setPageTitle(title)

        Apollo.d.push({
            title: 'â€œâ€œâ€â€' + title.fontcolor("#D2691E").small(),
            url: url,
            col_type: 'text_1',
            extra: {
                lineVisiable: false
            }
        })
        Apollo.d.push({
            desc: pdfh(html, '.text-secondary.break-all.line-clamp-2&&Text'),
            pic_url: pdfh(html, 'meta[property=og:image]&&content') + '@Referer=' + Apollo.url,
            url: $(Apollo.empty + '#noHistory#').lazyRule((html, url) => {
                eval(html.match(/eval.*?\n/)[0])
                // èŽ·å–ç”»è´¨åˆ—è¡¨ï¼Œå¹¶åŽ»æœ€é«˜ç”»è´¨
                let group_quality = fetch(source, {
                    headers: {
                        "origin": "https://missav.com"
                    }
                })
                hghest_quality = group_quality.match(/^(.*)\.m3u8$/gm).map(v => source.replace("playlist.m3u8", v)).reverse()
                name_quality = group_quality.match(/RESOLUTION=.*$/gm).map(n => n.replace("RESOLUTION=", "")).reverse()
                let playlist = {
                    urls: hghest_quality,
                    names: name_quality,
                    headers: new Array(hghest_quality.length).fill({
                        Referer: url
                    })
                };
                return playlist;
            }, html, Apollo.url),
            col_type: 'pic_1_full',
        })
        var content = pdfh(html, '.text-secondary.break-all.line-clamp-2&&Text');
        if (content.trim() != "") {
            Apollo.d.push({
                title: content.small().fontcolor("#2E8B57"),
                url: 'hiker://empty',
                col_type: 'rich_text',
                extra: {
                    lineVisiable: false
                }
            })
        }

        const text_secondary_list = pdfa(html, 'body&&.text-secondary')
        let num, actressesList, tagsList, series, makers, directors, labelsList
        text_secondary_list.forEach(item => {
            let current_title = pdfh(item, 'span&&Text')
            let actressName = 'å¥³ä¼˜'
            if (current_title === 'ç•ªå·:') {
                num = pdfh(item, '.font-medium&&Text').replace("-UNCENSORED-LEAK", "").replace("-CHINESE-SUBTITLE", "")
            } else if (current_title === actressName + ':') {
                actressesList = pdfa(item, '.text-secondary&&a')
            } else if (current_title === 'ç±»åž‹:') {
                tagsList = pdfa(item, '.text-secondary&&a')
            } else if (current_title === 'ç³»åˆ—:') {
                series = pdfa(item, '.text-secondary&&a')[0]
            } else if (current_title === 'å‘è¡Œå•†:') {
                makers = pdfa(item, '.text-secondary&&a')[0]
            } else if (current_title === 'å¯¼æ¼”:') {
                directors = pdfa(item, '.text-secondary&&a')[0]
            } else if (current_title === 'æ ‡ç±¤:') {
                labelsList = pdfa(item, '.text-secondary&&a')
            }
        })
        var æ—¥æœŸ = pdfh(html, 'body&&.text-secondary:matches(å‘è¡Œæ—¥æœŸ:)&&Text');
        if (æ—¥æœŸ.trim() != "") {
            Apollo.d.push({
                title: 'â€˜â€˜â€™â€™' + æ—¥æœŸ.fontcolor("#FF0000"),
                url: "hiker://search?rule=ð‰ðšð¯ðƒð&s=" + num,
                col_type: 'text_1',
                extra: {
                    lineVisiable: false
                }
            })
        }
        if (num) {
            Apollo.d.push({
                title: "â€œâ€œâ€â€ç•ªå· : " + num.fontcolor("#1E90FF"),
                url: 'copy://' + num,
                col_type: 'text_1',
                extra: {
                    lineVisible: false
                },
            })
        }
        var æ ‡é¢˜ = pdfh(html, 'body&&.text-secondary:matches(æ ‡é¢˜)&&Text');
        if (æ ‡é¢˜.trim() != "") {
            Apollo.d.push({
                title: æ ‡é¢˜.fontcolor("#008B8B").small(),
                url: 'hiker://empty',
                col_type: 'rich_text',
                extra: {
                    lineVisiable: false
                }
            })
        }
        Apollo.d.push({
            col_type: 'line_blank'
        })
        if (actressesList) {
            actressesList.forEach((actresses, index) => {
                let title = pdfh(actresses, 'a&&Text')
                let url = pdfh(actresses, 'a&&href')
                Apollo.taskList.push({
                    func: Apollo.updateAvatar,
                    param: {
                        url: url,
                        index: 'avatar_' + index
                    },
                    id: 'avatar_' + index,
                })
                Apollo.d.push({
                    title: "â€œâ€œâ€â€" + title.fontcolor("#C71585"),
                    desc: 'æ¼”å‘˜',
                    pic_url: Apollo.empty,
                    url: $(url + '?page=fypage#noHistory#').rule((title) => {
                        const Apollo = $.require('hiker://page/Apollo')
                        setPageTitle(title)
                        Apollo.avatarParse(MY_URL)
                        setResult(Apollo.d)
                    }, title),
                    col_type: 'icon_4_card',
                    extra: {
                        id: 'avatar_' + index,
                    }
                })
            })
            Apollo.d.push({
                col_type: 'line_blank'
            })
        }
        if (tagsList) {
            Apollo.d.push({
                title: 'ç±»åž‹ : ',
                url: Apollo.empty,
                col_type: 'flex_button',
                extra: {
                    lineVisible: false
                },
            })
            tagsList.forEach(tag => {
                let tag_title = pdfh(tag, 'a&&Text')
                Apollo.d.push({
                    title: tag_title,
                    url: $(pdfh(tag, 'a&&href') + '?page=fypage#noHistory#').rule((tag_title) => {
                        const Apollo = $.require('hiker://page/Apollo')
                        setPageTitle(tag_title)
                        Apollo.tagsParse(MY_URL)
                        setResult(Apollo.d)
                    }, tag_title),
                    col_type: 'flex_button',
                    extra: {
                        'backgroundColor': Apollo.getRangeColors()
                    }
                })
            })

            Apollo.d.push({
                col_type: 'line_blank'
            })
        }
        if (series) {
            Apollo.d.push({
                title: 'ç³»åˆ— : ',
                url: Apollo.empty,
                col_type: 'scroll_button',
                extra: {
                    lineVisible: false
                },
            })
            let series_title = pdfh(series, 'a&&Text')
            Apollo.d.push({
                title: series_title,
                url: $(pdfh(series, 'a&&href') + '?page=fypage#noHistory#').rule((series_title) => {
                    const Apollo = $.require('hiker://page/Apollo')
                    setPageTitle(series_title)
                    Apollo.tagsParse(MY_URL)
                    setResult(Apollo.d)
                }, series_title),
                col_type: 'scroll_button',
                extra: {
                    'backgroundColor': Apollo.getRangeColors()
                }
            })
            Apollo.d.push({
                col_type: 'line_blank'
            })
        }
        if (makers) {
            Apollo.d.push({
                title: 'å‘è¡Œå•† : ',
                url: Apollo.empty,
                col_type: 'scroll_button',
                extra: {
                    lineVisible: false
                },
            })
            let makers_title = pdfh(makers, 'a&&Text')
            Apollo.d.push({
                title: makers_title,
                url: $(pdfh(makers, 'a&&href') + '?page=fypage#noHistory#').rule((makers_title) => {
                    const Apollo = $.require('hiker://page/Apollo')
                    setPageTitle(makers_title)
                    Apollo.tagsParse(MY_URL)
                    setResult(Apollo.d)
                }, makers_title),
                col_type: 'scroll_button',
                extra: {
                    'backgroundColor': Apollo.getRangeColors()
                }
            })
            /*Apollo.d.push({
                col_type: 'line_blank'
            })*/
        }
        if (directors) {
            Apollo.d.push({
                title: 'å¯¼æ¼” : ',
                url: Apollo.empty,
                col_type: 'scroll_button',
                extra: {
                    lineVisible: false
                },
            })
            let directors_title = pdfh(directors, 'a&&Text')
            Apollo.d.push({
                title: directors_title,
                url: $(pdfh(directors, 'a&&href') + '?page=fypage#noHistory#').rule((directors_title) => {
                    const Apollo = $.require('hiker://page/Apollo')
                    setPageTitle(directors_title)
                    Apollo.tagsParse(MY_URL)
                    setResult(Apollo.d)
                }, directors_title),
                col_type: 'scroll_button',
                extra: {
                    'backgroundColor': Apollo.getRangeColors()
                }
            })
            Apollo.d.push({
                col_type: 'line_blank'
            })
        }
        if (labelsList) {
            Apollo.d.push({
                title: 'æ ‡ç­¾ : ',
                url: Apollo.empty,
                col_type: 'scroll_button',
                extra: {
                    lineVisible: false
                },
            })
            labelsList.forEach(label => {
                let label_title = pdfh(label, 'a&&Text')
                Apollo.d.push({
                    title: label_title,
                    url: $(pdfh(label, 'a&&href') + '?page=fypage#noHistory#').rule((
                        label_title) => {
                        const Apollo = $.require('hiker://page/Apollo')
                        setPageTitle(label_title)
                        Apollo.tagsParse(MY_URL)
                        setResult(Apollo.d)
                    }, label_title),
                    col_type: 'scroll_button',
                    extra: {
                        'backgroundColor': Apollo.getRangeColors()
                    }
                })
            })
            Apollo.d.push({
                col_type: 'line_blank'
            })
        }

        const CiliList = pdfa(html, '.min-w-full&&tr')
        if (CiliList.length > 0) {
            Apollo.d.push({
                title: 'æœ¬å°ç«™ç£åŠ›' + CiliList.length + "æ¡",
                url: Apollo.empty,
                col_type: 'text_center_1',
                extra: {
                    lineVisible: false
                },
            })
        } else {
            Apollo.BTshowParse(num);
        }
        CiliList.forEach((item, index) => {
            Apollo.d.push({
                title: pdfh(item, 'a&&Text'),
                url: pdfh(item, 'a&&href'),
                desc: (index + 1).toString().padStart(2, "0") + "\tðŸ’½" + Apollo.formatNumber(pdfh('<table>' + item + '</table>', 'td,1&&Text')) + "ðŸ“†" + pdfh('<table>' + item + '</table>', 'td,2&&Text'),
                pic_url: "https://img.vinua.cn/images/Ooz4R.jpeg",
                col_type: 'avatar'
            })
        })

        /*var path = url.match(/\/(?!.*\/)(.*$)/) ? url.match(/\/(?!.*\/)(.*$)/)[1] : num;
        var userId = pdfh(html, ".items-center.space-x-6&&a&&href").match(/\/(?!.*\/).*userId=(.*$)/)[1]
        // èŽ·å–å½“å‰çš„ 10 ä½ Unix æ—¶é—´æˆ³
        let timestamp = Math.floor(Date.now() / 1000);
        var sign;
        var URL = `https://client-rapi-missav.recombee.com/missav-default/batch/?frontend_timestamp=${timestamp}&frontend_sign=${sign}`;

        var result = fetch(URL, {
            body: JSON.stringify({
                "requests": [{
                    "method": "POST",
                    "path": `/recomms/items/${path}/items/`,
                    "params": {
                        "targetUserId": userId,
                        "count": 16,
                        "scenario": "mobile-watch-next",
                        "returnProperties": true,
                        "includedProperties": [
                            "title_cn",
                            "duration",
                            "has_chinese_subtitle",
                            "is_uncensored_leak",
                            "dm"
                        ],
                        "cascadeCreate": true
                    }
                }],
                "distinctRecomms": true
            }),
            headers: {
                "Content-Type": "application/json",
            },
            method: 'POST'
        });
        log(result)
        const videoList = pdfa(html, '.grid.grid-cols-2.gap-5&&.relative')
        Apollo.d.push({
            title: 'æŽ¨èè§†é¢‘',
            url: Apollo.empty,
            col_type: 'text_center_1',
            extra: {
                lineVisible: false
            },
        })
        videoList.forEach(item => {
            Apollo.d.push({
                title: pdfh(item, '.lozad&&alt'),
                url: $(pdfh(item, 'a&&href') + '#noHistory#').rule(() => {
                    const Apollo = $.require('hiker://page/Apollo')
                    Apollo.videoParse(MY_URL)
                    setResult(Apollo.d)
                    if (Apollo.taskList.length > 0) {
                        be(Apollo.taskList)
                    }
                }),
                pic_url: pdfh(item, '.lozad&&data-src') + '@Referer=' + Apollo.url,
                desc: pdfh(item, '.absolute&&Text'),
                col_type: 'movie_2'
            })
        })*/
        Apollo.d.push({
            title: 'â€œâ€œâ€â€' + "æˆ‘æ˜¯æœ‰åº•çº¿çš„".fontcolor("grey")
                .small(),
            url: Apollo.empty,
            col_type: "text_center_1",
            extra: {
                lineVisible: false
            }
        })
        setResult(Apollo.d)
    },
    formatNumber: function(input) {
        // åˆ†ç¦»æ•´æ•°ã€å°æ•°å’Œå•ä½
        var regex = /(\d+)(\.\d+)?([a-zA-Z]+)/;
        var match = input.match(regex);
        if (match) {
            var integerPart = match[1].toString(); // èŽ·å–æ•´æ•°éƒ¨åˆ†
            var decimalPart = match[2] ? match[2].slice(1).toString() : '0'; // å¦‚æžœæ²¡å°æ•°éƒ¨åˆ†ï¼Œé»˜è®¤ä¸º '0'
            var unitPart = match[3]; // èŽ·å–å•ä½éƒ¨åˆ†              
            // å¯¹æ•´æ•°éƒ¨åˆ†è¿›è¡Œè¡¥é›¶
            integerPart = integerPart.padStart(2, '0');
            // å¯¹å°æ•°éƒ¨åˆ†è¿›è¡Œè¡¥é›¶  
            decimalPart = decimalPart.padEnd(2, '0');
            // åˆå¹¶ç»“æžœ
            return integerPart + '.' + decimalPart + unitPart;
        } else {
            return input
        }
    },
    BTshowParse: (è¯†åˆ«ç ) => {
        try {
            var btsow = "https://btsow.motorcycles/search/" + è¯†åˆ«ç 
            var BTlist = pdfa(fetch(btsow), "body&&.data-list&&.row:not(.hidden-xs)");
            if (BTlist.length > 0) {
                Apollo.d.push({
                    title: 'BTshowç£åŠ›' + BTlist.length + "æ¡",
                    url: btsow,
                    col_type: 'text_center_1',
                    extra: {
                        lineVisible: false
                    },
                })
            }
            BTlist.forEach((item, index) => {
                var url = getMyVar("BTcili");
                Apollo.d.push({
                    title: '<b><small><font color="#4682B4"> ' + pdfh(item, 'a&&title') + '</font></small>',
                    desc: (index + 1).toString().padStart(2, "0") + "\tðŸ’½" + Apollo.formatNumber(pdfh(item, '.size&&Text')) + "ðŸ“†" + pdfh(item, '.date&&Text'),
                    img: "https://img.vinua.cn/images/Ocqpj.png",
                    url: "https:" + pdfh(item, 'a&&href') + $('').lazyRule(() => {
                        var url = pdfh(request(input, {}), '#magnetOpen&&a&&href');
                        putMyVar("BTcili", url)
                        return url
                    }),
                    col_type: "avatar",
                })
            })
        } catch {}
    },

    avatarParse: (url) => {
        const html = fetch(url, {
            headers: {
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'
            }
        })
        Apollo.videoType(html)
    },


    tagsParse: (url) => {
        const html = fetch(url, {
            headers: {
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'
            }
        })
        Apollo.videoType(html)
    },


    videoType: (html) => {
        const list = pdfa(html, '.grid&&.relative')
        list.forEach(item => {
            Apollo.d.push({
                title: pdfh(item, '.lozad&&alt'),
                url: $(pdfh(item, 'a&&href') + '#noHistory#').rule(() => {
                    const Apollo = $.require('hiker://page/Apollo')
                    Apollo.videoParse(MY_URL)
                    setResult(Apollo.d)
                    if (Apollo.taskList.length > 0) {
                        be(Apollo.taskList)
                    }
                }),
                pic_url: pdfh(item, '.lozad&&data-src').replace("cover-t", "cover-n") + '@Referer=' + Apollo.url,
                desc: pdfh(item, 'a&&alt').toUpperCase().replace("-CHINESE-SUBTITLE", "ðŸ€„ï¸").replace("-UNCENSORED-LEAK", "ðŸˆšï¸") + "â°" + pdfh(item, '.absolute,-1&&Text'),
                col_type: 'movie_2'
            })
        })
    },


    videoType2: (html) => {
        const list = pdfa(html, 'body&&.thumbnail')
        list.forEach(item => {
            Apollo.d.push({
                title: pdfh(item, '.lozad&&alt'),
                url: $(pdfh(item, 'a&&href') + '#noHistory#').rule(() => {
                    const Apollo = $.require('hiker://page/Apollo')
                    Apollo.videoParse(MY_URL)
                    setResult(Apollo.d)
                    if (Apollo.taskList.length > 0) {
                        be(Apollo.taskList)
                    }
                }),
                pic_url: pdfh(item, '.lozad&&data-src').replace("cover-t", "cover-n") + '@Referer=' + Apollo.url,
                desc: pdfh(item, 'a&&alt').toUpperCase() + "â°" + pdfh(item, '.absolute,-1&&Text'),
                col_type: 'movie_2'
            })
        })
    },

    articlesType: (html) => {
        const list = pdfa(html, '.grid&&.rounded-lg')
        list.forEach(item => {
            Apollo.d.push({
                title: pdfh(item, 'img&&alt'),
                url: $(pdfh(item, 'a&&href') + '#noHistory#').rule(() => {
                    const Apollo = $.require('hiker://page/Apollo')
                    const html = fetch(MY_URL, {
                        headers: {
                            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'
                        }
                    })
                    Apollo.d.push({
                        title: pdfh(html, 'article&&Html'),
                        col_type: 'rich_text'
                    })
                    setResult(Apollo.d)
                }),
                pic_url: pdfh(item, 'img&&data-src') + '@Referer=' + Apollo.url,
                col_type: 'movie_2'
            })
        })
    },


    avatarType: (html) => {
        const list = pdfa(html, '.mx-auto.grid&&li')
        list.forEach(item => {
            Apollo.d.push({
                title: pdfh(item, 'h4&&Text'),
                url: $(pdfh(item, 'a&&href') + '?page=fypage#noHistory#').rule(() => {
                    const Apollo = $.require('hiker://page/Apollo')
                    Apollo.avatarParse(MY_URL)
                    setResult(Apollo.d)
                }),
                desc: pdfh(item, '.text-nord10&&Text'),
                pic_url: pdfh(item, 'img&&src') + '@Referer=' + Apollo.url,
                col_type: 'icon_round_4'
            })
        })
    },


    tagsType: (html) => {
        const list = pdfa(html, '.gap-4&&div')
        list.forEach(item => {
            Apollo.d.push({
                title: pdfh(item, 'a&&Text'),
                url: $(pdfh(item, 'a&&href') + '?page=fypage#noHistory#').rule(() => {
                    const Apollo = $.require('hiker://page/Apollo')
                    Apollo.tagsParse(MY_URL)
                    setResult(Apollo.d)
                }),
                col_type: 'text_4'
            })
        })
    },


    updateAvatar: (param) => {
        const actressesHtml = fetch(param.url, {
            headers: {
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'
            }
        })
        updateItem({
            pic_url: pdfh(actressesHtml, '.object-cover.object-top.w-full.h-full&&src'),
            //col_type: 'card_pic_3',
            extra: {
                id: param.index
            }
        })
    },
}
$.exports = Apollo